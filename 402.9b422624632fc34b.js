"use strict";(self.webpackChunkwe_cure=self.webpackChunkwe_cure||[]).push([[402],{6402:(U,Z,s)=>{s.r(Z),s.d(Z,{SettingModule:()=>y});var m=s(6019),d=s(3464),i=s(9133),p=s(7259),t=s(241),h=s(4870),v=s(1762),w=s(9822);function A(o,r){1&o&&(t.TgZ(0,"div",25),t.TgZ(1,"div",26),t.TgZ(2,"p",27),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"This field is Required")))}function S(o,r){1&o&&(t.TgZ(0,"div",25),t.TgZ(1,"div",26),t.TgZ(2,"p",27),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"This field is Required")))}function q(o,r){1&o&&(t.TgZ(0,"div",25),t.TgZ(1,"div",26),t.TgZ(2,"p",27),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"New Password and Confirm Password Does not Match")))}function T(o,r){1&o&&(t.TgZ(0,"div",9),t.TgZ(1,"div",26),t.TgZ(2,"p",27),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"Old Password is Wrong")))}const P=[{path:"",component:(()=>{class o{constructor(e,n,l,g,a){this.translate=e,this._fb=n,this._auth=l,this._api=g,this._encryptAESService=a,this.AnySubmit=!1,this.ShowSuccess=!1,this.ShowError=!1,this.showModal=!1,this.modalMsg="",this.CheckPasswords=f=>{var u,c;return(null===(u=f.get("newPassword"))||void 0===u?void 0:u.value)===(null===(c=f.get("confirmPassword"))||void 0===c?void 0:c.value)?null:{notSame:!0}}}ngOnInit(){this.SigninForm=this.BuildForm(this.SigninForm)}BuildForm(e){return this._fb.group({oldPassword:new i.NI("",[i.kI.required]),newPassword:new i.NI("",[i.kI.required]),confirmPassword:new i.NI("",[i.kI.required])},{validators:this.CheckPasswords})}SubmitSigninForm(){this.AnySubmit=!0;const e=this.SigninForm.value;let n=localStorage.getItem("password");if(this.SigninForm.invalid)this.SigninForm.setErrors({invalid:!0});else if(n!=e.oldPassword)this.RaiseError("old Pass");else{const g="registerpatient/setnewpassword";var l={ppassword:this._encryptAESService.EncrptRegisterPassword(e.newPassword)};this._api.Post(g,l).subscribe(a=>{"no"==a.Header[0].Authorization&&this._auth.reloagin(),this.RaiseModal("ar"==this.GetLanguage()?a.forgetpassword[0].arabicresponse:a.forgetpassword[0].englishresponse)},a=>{this.RaiseError(a)})}}RaiseModal(e){this.showModal=!0,this.modalMsg=e}RaiseError(e){this.ShowError=!0,setTimeout(()=>{this.ShowError=!1,this.ShowError=!1},4e3),console.log("Error: ",e)}GetLanguage(){return"ar"==this.translate.currentLang?"ar":"en"}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(d.sK),t.Y36(i.qu),t.Y36(h.u),t.Y36(v.s),t.Y36(w.V))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-setting"]],decls:57,vars:29,consts:[[1,"bg-home","d-flex","align-items-center"],[1,"container"],[1,"row","align-items-center","justify-content-center"],[1,"col-lg-5","col-md-6"],[1,"card","login-page","bg-white","shadow","rounded","border-0"],[1,"card-body"],[1,"card-title","text-center"],[1,"login-form","mt-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-lg-12"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],[1,"form-icon","position-relative"],["data-feather","key",1,"fea","icon-sm","icons"],["type","password","name","username","required","","formControlName","oldPassword",1,"form-control","ps-5",3,"placeholder"],["class","col-md-12",4,"ngIf"],["type","password","required","","formControlName","newPassword",1,"form-control","ps-5",3,"placeholder"],["type","password","required","","formControlName","confirmPassword",1,"form-control","ps-5",3,"placeholder"],[1,"d-flex","justify-content-between"],[1,"form-check"],["class","col-lg-12",4,"ngIf"],[1,"col-lg-12","mb-0"],[1,"d-grid"],["type","submit",1,"btn","btn-primary"],[1,"col-md-12"],[1,"d-flex","justify-content-center","mb-2","text-danger","fw-bold"],[1,"forgot-pass","mb-0"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"h4",6),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"form",7),t.NdJ("ngSubmit",function(){return n.SubmitSigninForm()}),t.TgZ(10,"div",8),t.TgZ(11,"div",9),t.TgZ(12,"div",10),t.TgZ(13,"label",11),t._uU(14),t.ALo(15,"translate"),t.TgZ(16,"span",12),t._uU(17,"*"),t.qZA(),t.qZA(),t.TgZ(18,"div",13),t._UZ(19,"i",14),t._UZ(20,"input",15),t.ALo(21,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(22,A,5,3,"div",16),t.TgZ(23,"div",9),t.TgZ(24,"div",10),t.TgZ(25,"label",11),t._uU(26),t.ALo(27,"translate"),t.TgZ(28,"span",12),t._uU(29,"*"),t.qZA(),t.qZA(),t.TgZ(30,"div",13),t._UZ(31,"i",14),t._UZ(32,"input",17),t.ALo(33,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(34,S,5,3,"div",16),t.TgZ(35,"div",9),t.TgZ(36,"div",10),t.TgZ(37,"label",11),t._uU(38),t.ALo(39,"translate"),t.TgZ(40,"span",12),t._uU(41,"*"),t.qZA(),t.qZA(),t.TgZ(42,"div",13),t._UZ(43,"i",14),t._UZ(44,"input",18),t.ALo(45,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(46,q,5,3,"div",16),t.TgZ(47,"div",9),t.TgZ(48,"div",19),t.TgZ(49,"div",10),t._UZ(50,"div",20),t.qZA(),t.qZA(),t.qZA(),t.YNc(51,T,5,3,"div",21),t.TgZ(52,"div",22),t.TgZ(53,"div",23),t.TgZ(54,"button",24),t._uU(55),t.ALo(56,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(7),t.Oqu(t.lcZ(8,13,"Change Password")),t.xp6(2),t.Q6J("formGroup",n.SigninForm),t.xp6(5),t.Oqu(t.lcZ(15,15,"Old Password")),t.xp6(6),t.s9C("placeholder",t.lcZ(21,17,"Old Password")),t.xp6(2),t.Q6J("ngIf",(n.SigninForm.controls.oldPassword.touched||n.AnySubmit)&&n.SigninForm.controls.oldPassword.invalid),t.xp6(4),t.Oqu(t.lcZ(27,19,"New Password ")),t.xp6(6),t.s9C("placeholder",t.lcZ(33,21,"New Password")),t.xp6(2),t.Q6J("ngIf",(n.SigninForm.controls.newPassword.touched||n.AnySubmit)&&n.SigninForm.controls.newPassword.invalid),t.xp6(4),t.Oqu(t.lcZ(39,23,"Confirm New Password ")),t.xp6(6),t.s9C("placeholder",t.lcZ(45,25,"Confirm New Password")),t.xp6(2),t.Q6J("ngIf",n.AnySubmit&&(null==n.SigninForm?null:n.SigninForm.hasError("notSame"))),t.xp6(5),t.Q6J("ngIf",n.ShowError),t.xp6(4),t.Oqu(t.lcZ(56,27,"Submit")))},directives:[i._Y,i.JL,i.sg,i.Fj,i.Q7,i.JJ,i.u,m.O5],pipes:[d.X$],styles:[""]}),o})()}];let b=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.Bz.forChild(P)],p.Bz]}),o})(),y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[m.ez,b,d.aw,i.u5,i.UX]]}),o})()}}]);