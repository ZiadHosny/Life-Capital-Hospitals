"use strict";(self.webpackChunkwe_cure=self.webpackChunkwe_cure||[]).push([[559],{8559:(me,_,d)=>{d.r(_),d.d(_,{MedicalRecordsModule:()=>pe});var c=d(6019),p=d(3464),r=d(9133),h=d(7259),e=d(241),u=d(1762),Z=d(4870),g=d(7790);function A(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit,i=e.oxw();e.Q6J("value",t.doctorid),e.xp6(1),e.Oqu("ar"==i.GetLanguage()?null==t?null:t.arabicname:null==t?null:t.englishname)}}function f(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit,i=e.oxw();e.Q6J("value",t.branchid),e.xp6(1),e.Oqu("ar"==i.GetLanguage()?null==t?null:t.arabicname:null==t?null:t.englishname)}}function b(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit,i=e.oxw();e.Q6J("value",t.specialityid),e.xp6(1),e.Oqu("ar"==i.GetLanguage()?null==t?null:t.arabicname:null==t?null:t.englishname)}}function T(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.patientid),e.xp6(1),e.Oqu(null==t?null:t.patientname)}}function q(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",46),e.TgZ(1,"h6",40),e._uU(2),e.qZA(),e.TgZ(3,"small",43),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(3).DownloadRecord(l)}),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA()}if(2&o){const t=a.$implicit;e.xp6(2),e.Oqu(t.servicename),e.xp6(2),e.Oqu(e.lcZ(5,2,"Download"))}}function v(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",35),e.TgZ(1,"div",36),e.TgZ(2,"div",37),e.TgZ(3,"div",38),e.TgZ(4,"div",39),e.TgZ(5,"h5",40),e._uU(6),e.qZA(),e.TgZ(7,"small",41),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"small"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"small"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.qZA(),e.TgZ(16,"div"),e.TgZ(17,"h6",42),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"small",43),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).DownloadAppointment(l.value[0])}),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",44),e.YNc(24,q,6,4,"div",45),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=a.$implicit,i=e.oxw(2);e.xp6(6),e.Oqu("ar"==i.GetLanguage()?t.value[0].doctorarabicname:t.value[0].doctorenglishname),e.xp6(2),e.Oqu("ar"==i.GetLanguage()?t.value[0].specialityarabicname:t.value[0].specialityenglishname),e.xp6(2),e.AsE("",e.lcZ(11,9,"Appointment Number: "),"",t.key,""),e.xp6(4),e.AsE("",e.lcZ(15,11,"Patient Name: "),"",t.value[0].patientname,""),e.xp6(4),e.hij(" ",e.xi3(19,13,i.HandleDate(t.value[0].servicedate),"d/M/yy, h:mm a")," "),e.xp6(3),e.Oqu(e.lcZ(22,16,"Download All")),e.xp6(3),e.Q6J("ngForOf",t.value)}}function y(o,a){if(1&o&&(e.TgZ(0,"section"),e.TgZ(1,"div",32),e.TgZ(2,"div",33),e.YNc(3,v,25,18,"div",34),e.ALo(4,"keyvalue"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,t.labRecordAppointmentGroped))}}function x(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",54),e._uU(2),e.qZA(),e.TgZ(3,"td",54),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td",54),e._uU(7),e.qZA(),e.TgZ(8,"td",54),e._uU(9),e.qZA(),e.TgZ(10,"td",54),e._uU(11),e.qZA(),e.TgZ(12,"td"),e.TgZ(13,"small",43),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).DownloadRecord(l)}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=a.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(t.servicename),e.xp6(2),e.Oqu(e.xi3(5,6,i.HandleDate(t.servicedate),"d/M/yy, h:mm a")),e.xp6(3),e.Oqu("ar"==i.GetLanguage()?t.doctorarabicname:t.doctorenglishname),e.xp6(2),e.Oqu("ar"==i.GetLanguage()?t.specialityarabicname:t.specialityenglishname),e.xp6(2),e.Oqu(i.GetFamilyMemberNameById(t.patientid)),e.xp6(3),e.Oqu(e.lcZ(15,9,"Download"))}}function F(o,a){if(1&o&&(e.TgZ(0,"section"),e.TgZ(1,"div",32),e.TgZ(2,"div",33),e.TgZ(3,"div",47),e.TgZ(4,"div",48),e.TgZ(5,"table",49),e.TgZ(6,"thead"),e.TgZ(7,"tr"),e.TgZ(8,"th",50),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"th",51),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th",50),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th",50),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th",50),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"th",52),e.qZA(),e.qZA(),e.TgZ(24,"tbody"),e.YNc(25,x,16,11,"tr",53),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,6,"Services")),e.xp6(3),e.Oqu(e.lcZ(13,8,"Date / Time")),e.xp6(3),e.Oqu(e.lcZ(16,10,"Doctor")),e.xp6(3),e.Oqu(e.lcZ(19,12,"Speciality")),e.xp6(3),e.Oqu(e.lcZ(22,14,"Patient")),e.xp6(4),e.Q6J("ngForOf",t.labRecordFilterd)}}let O=(()=>{class o{constructor(t,i,n,l,s){this.translate=t,this._fb=i,this._apiService=n,this._auth=l,this._UserDataService=s,this.labRecord=[],this.labRecordFilterd=[],this.labRecordAppointmentGroped=[],this.viewMode="ALL",this.allBranches=[],this.allDoctors=[],this.allSpeciality=[],this.allFamilymember=[],this.filterBody={},this._UserDataService.userData$.subscribe(m=>{this.userData=m})}ngOnInit(){this.SearchForm=this.BuildForm(this.SearchForm),this.GetLabRecord(),this.GetDoctors(),this.GetBranches(),this.GetSpecialties(),this.GetFamilyMember()}BuildForm(t){return this._fb.group({appointmentDate:new r.NI("",[]),pmemberflag:new r.NI("",[]),pbranch:new r.NI("",[]),pspecialityid:new r.NI("",[]),pdoctor:new r.NI("",[])})}GetLabRecord(){this._apiService.Post("medicalrecords/laboratory",this.filterBody).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.labRecord=t.laboratoryresultsdata,this.labRecordFilterd=t.laboratoryresultsdata,this.GroupRecord()})}GroupRecord(){this.labRecordAppointmentGroped=this.labRecordFilterd.reduce(function(t,i){return(t[i.appointmentno]=t[i.appointmentno]||[]).push(i),t},{})}GetBranches(){this._apiService.Post("branches",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allBranches=t.branchesdata})}GetSpecialties(){this._apiService.Post("specialties",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allSpeciality=t.specialitiesdata})}GetDoctors(){this._apiService.Post("doctors",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allDoctors=t.doctorsdata})}GetFamilyMember(){this._apiService.Post("familymembers",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allFamilymember=t.familymembersdata})}GetFamilyMemberNameById(t){let i="",n=i=this.allFamilymember.find(l=>l.patientid==t);return this.userData.patientid==t?i=this.userData.patientname:n&&(i=n.patientname),i}FilterVisit(t,i){this.filterBody[t]=this.GetControlValue(i),this.GetLabRecord()}FilterVisitbyMe(){this.filterBody.pmemberflag=this.userData.patientid,this.GetLabRecord()}FilterDoctors(t){let i=t.target.value;this.labRecordFilterd=this.labRecord.filter(n=>-1!=n.doctorarabicname.indexOf(i)||-1!=n.doctorenglishname.indexOf(i)),this.GroupRecord()}GetControlValue(t){return"appointmentDate"==t?new Date(this.SearchForm.get(t).value):this.SearchForm.get(t).value}ResetFilters(){this.SearchForm.get("appointmentDate").setValue(""),this.SearchForm.get("pmemberflag").setValue(""),this.SearchForm.get("pbranch").setValue(""),this.SearchForm.get("pspecialityid").setValue(""),this.SearchForm.get("pdoctor").setValue(""),this.filterBody={},this.GetLabRecord()}DownloadAppointment(t){this._apiService.Post_Appointment("medicalrecords/printlaboratoryresultsall",{},t.visitid).subscribe(i=>{"no"==i.Header[0].Authorization&&this._auth.reloagin();let n=this.EncodeFile(i.laboratorypdfresults[0].pdflaboratoryreport);this.DownoladFile(n)})}DownloadRecord(t){this._apiService.Post("medicalrecords/printlaboratoryresults",{pappointmentid:""+t.visitid,pserviceid:""+t.serviceid}).subscribe(i=>{"no"==i.Header[0].Authorization&&this._auth.reloagin();let n=this.EncodeFile(i.laboratorypdfresults[0].pdflaboratoryreport);this.DownoladFile(n)})}EncodeFile(t){return"data:application/pdf;base64,"+t}DownoladFile(t){const i=document.createElement("a");i.href=t,i.download="Lab-Report.pdf",i.setAttribute("target","_blank"),i.setAttribute("target","_blank"),i.click()}ChangeView(){this.viewMode="ALL"==this.viewMode?"APPOINTMENT":"ALL"}HandleDate(t){return t?t.split("T")[0]:""}GetLanguage(){return"ar"==this.translate.currentLang?"ar":"en"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.sK),e.Y36(r.qu),e.Y36(u.s),e.Y36(Z.u),e.Y36(g.Mn))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-laboratory"]],decls:82,vars:50,consts:[[1,"section"],[1,"container"],[1,"container-fluid"],[1,"layout-specing"],[1,"d-md-flex","justify-content-between","align-items-center"],["id","bookroom",1,"mb-2"],[1,"row","justify-content-center"],[1,"col-lg-12","p-0"],[1,"p-4","shadow","bg-white","rounded"],[1,"d-flex","justify-content-between"],[1,"mb-3"],[1,"form-check","form-switch"],["type","checkbox","id","viewType",1,"form-check-input",3,"checked","change"],["for","viewType",1,"form-check-label"],[3,"formGroup"],[1,"row","text-start"],[1,"col-lg-3","col-md-6","mt-3"],[1,"mb-3","mb-lg-0"],[1,"form-label"],["placeholder","MM/DD/YYYY","onfocus","(this.type='date')","onblur","(this.type='text')","formControlName","appointmentDate",1,"form-control",3,"change"],["id","Sortbylist-Shop","formControlName","pdoctor",1,"form-control","form-select",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","Sortbylist-Shop","formControlName","pbranch",1,"form-control","form-select",3,"change"],["id","Sortbylist-Shop","formControlName","pspecialityid",1,"form-control","form-select",3,"change"],["id","Sortbylist-Shop","formControlName","pmemberflag",1,"form-control","form-select",3,"change"],[1,"col-lg-3","col-md-6","d-flex"],[1,"mb-3","mb-lg-0","w-100","d-flex","align-items-end"],[1,"d-grid","w-100"],[1,"btn","btn-outline-primary",3,"click"],[4,"ngIf"],[3,"value"],[1,"container","mt-lg-3"],[1,"row"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"rounded","shadow","mt-4"],[1,"p-4","d-flex","border-bottom"],[1,"cardHeader"],[1,"d-flex"],[1,"mb-0"],[1,"pt-1","mx-3"],[1,"m-0"],[1,"downloadRecord",3,"click"],[1,"p-4"],["class","d-flex justify-content-between pb-4",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","pb-4"],[1,"col-12","mt-4"],[1,"table-responsive","shadow","rounded"],[1,"table","table-center","bg-white","mb-0"],[1,"text-center","border-bottom","p-3"],[1,"text-center","border-bottom","p-3",2,"min-width","220px"],[1,"text-end","border-bottom","p-3"],[4,"ngFor","ngForOf"],[1,"text-center","p-3"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"div",4),e.TgZ(5,"section",5),e.TgZ(6,"div",1),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"form",8),e.TgZ(10,"div",9),e.TgZ(11,"h4",10),e._uU(12),e.ALo(13,"translate"),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",11),e.TgZ(16,"input",12),e.NdJ("change",function(){return i.viewMode="APPOINTMENT"==i.viewMode?"ALL":"APPOINTMENT"}),e.qZA(),e.TgZ(17,"label",13),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"form",14),e.TgZ(21,"div",15),e.TgZ(22,"div",16),e.TgZ(23,"div",17),e.TgZ(24,"label",18),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"input",19),e.NdJ("change",function(){return i.FilterVisit("pappointmentdate","appointmentDate")}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",16),e.TgZ(29,"div",17),e.TgZ(30,"label",18),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"select",20),e.NdJ("change",function(){return i.FilterVisit("pdoctor","pdoctor")}),e.TgZ(34,"option",21),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.YNc(37,A,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",16),e.TgZ(39,"div",17),e.TgZ(40,"label",18),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"select",23),e.NdJ("change",function(){return i.FilterVisit("pbranch","pbranch")}),e.TgZ(44,"option",21),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.YNc(47,f,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",16),e.TgZ(49,"div",17),e.TgZ(50,"label",18),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"select",24),e.NdJ("change",function(){return i.FilterVisit("pspecialityid","pspecialityid")}),e.TgZ(54,"option",21),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.YNc(57,b,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",16),e.TgZ(59,"div",17),e.TgZ(60,"label",18),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"select",25),e.NdJ("change",function(){return i.FilterVisit("pmemberflag","pmemberflag")}),e.TgZ(64,"option",21),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.YNc(67,T,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",26),e.TgZ(69,"div",27),e.TgZ(70,"div",28),e.TgZ(71,"button",29),e.NdJ("click",function(){return i.FilterVisitbyMe()}),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(74,"div",26),e.TgZ(75,"div",27),e.TgZ(76,"div",28),e.TgZ(77,"button",29),e.NdJ("click",function(){return i.ResetFilters()}),e._uU(78),e.ALo(79,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(80,y,5,3,"section",30),e.YNc(81,F,26,16,"section",30),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(12),e.AsE("",e.lcZ(13,22,"Medical Records")," / ",e.lcZ(14,24,"Laboratory Records"),""),e.xp6(4),e.Q6J("checked","APPOINTMENT"==i.viewMode),e.xp6(2),e.Oqu(e.lcZ(19,26,"Group by Appointment")),e.xp6(2),e.Q6J("formGroup",i.SearchForm),e.xp6(5),e.Oqu(e.lcZ(26,28,"Date ")),e.xp6(6),e.Oqu(e.lcZ(32,30,"Doctor ")),e.xp6(4),e.Oqu(e.lcZ(36,32,"Select Doctor")),e.xp6(2),e.Q6J("ngForOf",i.allDoctors),e.xp6(4),e.Oqu(e.lcZ(42,34,"Branch ")),e.xp6(4),e.Oqu(e.lcZ(46,36,"Select Branch")),e.xp6(2),e.Q6J("ngForOf",i.allBranches),e.xp6(4),e.Oqu(e.lcZ(52,38,"Specialties ")),e.xp6(4),e.Oqu(e.lcZ(56,40,"Select Specialtie")),e.xp6(2),e.Q6J("ngForOf",i.allSpeciality),e.xp6(4),e.Oqu(e.lcZ(62,42,"Family Member")),e.xp6(4),e.Oqu(e.lcZ(66,44,"Select Family Member")),e.xp6(2),e.Q6J("ngForOf",i.allFamilymember),e.xp6(5),e.Oqu(e.lcZ(73,46,"My Appointment")),e.xp6(6),e.Oqu(e.lcZ(79,48,"Reset")),e.xp6(2),e.Q6J("ngIf","APPOINTMENT"==i.viewMode),e.xp6(1),e.Q6J("ngIf","ALL"==i.viewMode))},directives:[r._Y,r.JL,r.F,r.sg,r.Fj,r.JJ,r.u,r.EJ,r.YN,r.Kr,c.sg,c.O5],pipes:[p.X$,c.Nd,c.uU],styles:[".border-bottom[_ngcontent-%COMP%]{justify-content:space-between;background-color:#129f4b;color:#fff}.downloadRecord[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.form-check[_ngcontent-%COMP%]{cursor:pointer}"]}),o})();function L(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit,i=e.oxw();e.Q6J("value",t.doctorid),e.xp6(1),e.Oqu("ar"==i.GetLanguage()?null==t?null:t.arabicname:null==t?null:t.englishname)}}function w(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit,i=e.oxw();e.Q6J("value",t.branchid),e.xp6(1),e.Oqu("ar"==i.GetLanguage()?null==t?null:t.arabicname:null==t?null:t.englishname)}}function M(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit,i=e.oxw();e.Q6J("value",t.specialityid),e.xp6(1),e.Oqu("ar"==i.GetLanguage()?null==t?null:t.arabicname:null==t?null:t.englishname)}}function S(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.patientid),e.xp6(1),e.Oqu(null==t?null:t.patientname)}}function N(o,a){1&o&&e._UZ(0,"hr")}function U(o,a){if(1&o&&(e.TgZ(0,"div",46),e.TgZ(1,"div"),e.TgZ(2,"h6",40),e._uU(3),e.qZA(),e.qZA(),e.TgZ(4,"small"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA()),2&o){const t=a.$implicit,i=e.oxw(4);e.xp6(3),e.Oqu("ar"==i.GetLanguage()?t.servicearabic:t.serviceenglish),e.xp6(2),e.AsE("",e.lcZ(6,3,"Quantity: "),"",t.quantity,"")}}function C(o,a){if(1&o&&(e.TgZ(0,"div",44),e.YNc(1,N,1,0,"hr",30),e.TgZ(2,"div"),e.YNc(3,U,7,5,"div",45),e.qZA(),e.qZA()),2&o){const t=a.$implicit,i=a.index;e.xp6(1),e.Q6J("ngIf",0!=i),e.xp6(2),e.Q6J("ngForOf",t.services)}}function R(o,a){if(1&o&&(e.TgZ(0,"div",35),e.TgZ(1,"div",36),e.TgZ(2,"div",37),e.TgZ(3,"div",38),e.TgZ(4,"div",39),e.TgZ(5,"h5",40),e._uU(6),e.qZA(),e.TgZ(7,"small",41),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"small"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"small"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.qZA(),e.TgZ(16,"div"),e._uU(17),e.ALo(18,"date"),e.qZA(),e.qZA(),e.TgZ(19,"div",42),e.YNc(20,C,4,2,"div",43),e.qZA(),e.qZA(),e.qZA()),2&o){const t=a.$implicit,i=e.oxw(2);e.xp6(6),e.Oqu("ar"==i.GetLanguage()?t.value[0].doctorarabicname:t.value[0].doctorenglishname),e.xp6(2),e.Oqu("ar"==i.GetLanguage()?t.value[0].specialityarabicname:t.value[0].specialityenglishname),e.xp6(2),e.AsE("",e.lcZ(11,8,"Appointment Number: "),"",t.key,""),e.xp6(4),e.AsE("",e.lcZ(15,10,"Patient Name: "),"",t.value[0].patientname,""),e.xp6(3),e.hij(" ",e.xi3(18,12,i.HandleDate(t.value[0].appointmentdate),"d/M/yy, h:mm a")," "),e.xp6(3),e.Q6J("ngForOf",t.value)}}function D(o,a){if(1&o&&(e.TgZ(0,"section"),e.TgZ(1,"div",32),e.TgZ(2,"div",33),e.YNc(3,R,21,15,"div",34),e.ALo(4,"keyvalue"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,t.medicalRecordAppointmentGroped))}}function G(o,a){if(1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"th",53),e._uU(2),e.qZA(),e.TgZ(3,"td",53),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td",53),e._uU(7),e.qZA(),e.TgZ(8,"td",53),e._uU(9),e.qZA(),e.TgZ(10,"td",53),e._uU(11),e.qZA(),e.TgZ(12,"td",53),e._uU(13),e.qZA(),e.qZA()),2&o){const t=a.$implicit,i=e.oxw().$implicit,n=e.oxw(2);e.xp6(2),e.Oqu("ar"==n.GetLanguage()?t.servicearabic:t.serviceenglish),e.xp6(2),e.Oqu(e.xi3(5,6,n.HandleDate(i.appointmentdate),"d/M/yy, h:mm a")),e.xp6(3),e.Oqu("ar"==n.GetLanguage()?i.doctorarabicname:i.doctorenglishname),e.xp6(2),e.Oqu("ar"==n.GetLanguage()?i.specialityarabicname:i.specialityenglishname),e.xp6(2),e.Oqu(i.patientname),e.xp6(2),e.Oqu(t.quantity)}}function J(o,a){if(1&o&&(e.ynx(0),e.YNc(1,G,14,9,"tr",52),e.BQk()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("ngForOf",t.services)}}function k(o,a){if(1&o&&(e.TgZ(0,"section"),e.TgZ(1,"div",32),e.TgZ(2,"div",33),e.TgZ(3,"div",47),e.TgZ(4,"div",48),e.TgZ(5,"table",49),e.TgZ(6,"thead"),e.TgZ(7,"tr"),e.TgZ(8,"th",50),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"th",51),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th",50),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th",50),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th",50),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th",50),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"tbody"),e.YNc(27,J,2,1,"ng-container",52),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,7,"Services")),e.xp6(3),e.Oqu(e.lcZ(13,9,"Date / Time")),e.xp6(3),e.Oqu(e.lcZ(16,11,"Doctor")),e.xp6(3),e.Oqu(e.lcZ(19,13,"Speciality")),e.xp6(3),e.Oqu(e.lcZ(22,15,"Patient")),e.xp6(3),e.Oqu(e.lcZ(25,17,"Quantity")),e.xp6(3),e.Q6J("ngForOf",t.medicalRecordFilterd)}}let P=(()=>{class o{constructor(t,i,n,l,s){this.translate=t,this._fb=i,this._apiService=n,this._auth=l,this._UserDataService=s,this.medicalRecord=[],this.medicalRecordFilterd=[],this.medicalRecordAppointmentGroped=[],this.viewMode="ALL",this.allBranches=[],this.allDoctors=[],this.allSpeciality=[],this.allFamilymember=[],this.filterBody={},this._UserDataService.userData$.subscribe(m=>{this.userData=m})}ngOnInit(){this.SearchForm=this.BuildForm(this.SearchForm),this.GetMedicalRecord(),this.GetDoctors(),this.GetBranches(),this.GetSpecialties(),this.GetFamilyMember()}BuildForm(t){return this._fb.group({appointmentDate:new r.NI("",[]),pmemberflag:new r.NI("",[]),pbranch:new r.NI("",[]),pspecialityid:new r.NI("",[]),pdoctor:new r.NI("",[])})}GetMedicalRecord(){this._apiService.Post("medicalrecords/services",this.filterBody).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.medicalRecord=t.servicesdata,this.medicalRecordFilterd=t.servicesdata,this.GroupRecord()})}GroupRecord(){this.medicalRecordAppointmentGroped=this.medicalRecordFilterd.reduce(function(t,i){return(t[i.appointmentno]=t[i.appointmentno]||[]).push(i),t},{})}GetBranches(){this._apiService.Post("branches",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allBranches=t.branchesdata})}GetSpecialties(){this._apiService.Post("specialties",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allSpeciality=t.specialitiesdata})}GetDoctors(){this._apiService.Post("doctors",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allDoctors=t.doctorsdata})}GetFamilyMember(){this._apiService.Post("familymembers",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allFamilymember=t.familymembersdata})}GetFamilyMemberNameById(t){let i="",n=i=this.allFamilymember.find(l=>l.patientid==t);return this.userData.patientid==t?i=this.userData.patientname:n&&(i=n.patientname),i}FilterVisit(t,i){this.filterBody[t]=this.GetControlValue(i),this.GetMedicalRecord()}FilterVisitbyMe(){this.filterBody.pmemberflag=this.userData.patientid,this.GetMedicalRecord()}FilterDoctors(t){let i=t.target.value;this.medicalRecordFilterd=this.medicalRecord.filter(n=>-1!=n.doctorarabicname.indexOf(i)||-1!=n.doctorenglishname.indexOf(i)),this.GroupRecord()}GetControlValue(t){return"appointmentDate"==t?new Date(this.SearchForm.get(t).value):this.SearchForm.get(t).value}ResetFilters(){this.SearchForm.get("appointmentDate").setValue(""),this.SearchForm.get("pmemberflag").setValue(""),this.SearchForm.get("pspecialityid").setValue(""),this.SearchForm.get("pdoctor").setValue(""),this.SearchForm.get("pbranch").setValue(""),this.filterBody={},this.GetMedicalRecord()}ChangeView(){this.viewMode="ALL"==this.viewMode?"APPOINTMENT":"ALL"}HandleDate(t){return t?t.split("T")[0]:""}GetLanguage(){return"ar"==this.translate.currentLang?"ar":"en"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.sK),e.Y36(r.qu),e.Y36(u.s),e.Y36(Z.u),e.Y36(g.Mn))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-medical-services"]],decls:82,vars:50,consts:[[1,"section"],[1,"container"],[1,"container-fluid"],[1,"layout-specing"],[1,"d-md-flex","justify-content-between","align-items-center"],["id","bookroom",1,"mb-2"],[1,"row","justify-content-center"],[1,"col-lg-12","p-0"],[1,"p-4","shadow","bg-white","rounded"],[1,"d-flex","justify-content-between"],[1,"mb-3"],[1,"form-check","form-switch"],["type","checkbox","id","viewType",1,"form-check-input",3,"checked","change"],["for","viewType",1,"form-check-label"],[3,"formGroup"],[1,"row","text-start"],[1,"col-lg-3","col-md-6","mt-3"],[1,"mb-3","mb-lg-0"],[1,"form-label"],["placeholder","MM/DD/YYYY","onfocus","(this.type='date')","onblur","(this.type='text')","formControlName","appointmentDate",1,"form-control",3,"change"],["id","Sortbylist-Shop","formControlName","pdoctor",1,"form-control","form-select",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","Sortbylist-Shop","formControlName","pbranch",1,"form-control","form-select",3,"change"],["id","Sortbylist-Shop","formControlName","pspecialityid",1,"form-control","form-select",3,"change"],["id","Sortbylist-Shop","formControlName","pmemberflag",1,"form-control","form-select",3,"change"],[1,"col-lg-3","col-md-6","d-flex"],[1,"mb-3","mb-lg-0","w-100","d-flex","align-items-end"],[1,"d-grid","w-100"],[1,"btn","btn-outline-primary",3,"click"],[4,"ngIf"],[3,"value"],[1,"container","mt-lg-3"],[1,"row"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"rounded","shadow","mt-4"],[1,"p-4","d-flex","border-bottom"],[1,"cardHeader"],[1,"d-flex"],[1,"mb-0"],[1,"pt-1","mx-3"],[1,"p-4"],["class","pb-4",4,"ngFor","ngForOf"],[1,"pb-4"],["class","mb-4 d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"mb-4","d-flex","justify-content-between"],[1,"col-12","mt-4"],[1,"table-responsive","shadow","rounded"],[1,"table","table-center","bg-white","mb-0"],[1,"text-center","border-bottom","p-3"],[1,"text-center","border-bottom","p-3",2,"min-width","220px"],[4,"ngFor","ngForOf"],[1,"text-center","p-3"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"div",4),e.TgZ(5,"section",5),e.TgZ(6,"div",1),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"form",8),e.TgZ(10,"div",9),e.TgZ(11,"h4",10),e._uU(12),e.ALo(13,"translate"),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",11),e.TgZ(16,"input",12),e.NdJ("change",function(){return i.viewMode="APPOINTMENT"==i.viewMode?"ALL":"APPOINTMENT"}),e.qZA(),e.TgZ(17,"label",13),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"form",14),e.TgZ(21,"div",15),e.TgZ(22,"div",16),e.TgZ(23,"div",17),e.TgZ(24,"label",18),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"input",19),e.NdJ("change",function(){return i.FilterVisit("pappointmentdate","appointmentDate")}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",16),e.TgZ(29,"div",17),e.TgZ(30,"label",18),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"select",20),e.NdJ("change",function(){return i.FilterVisit("pdoctor","pdoctor")}),e.TgZ(34,"option",21),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.YNc(37,L,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",16),e.TgZ(39,"div",17),e.TgZ(40,"label",18),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"select",23),e.NdJ("change",function(){return i.FilterVisit("pbranch","pbranch")}),e.TgZ(44,"option",21),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.YNc(47,w,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",16),e.TgZ(49,"div",17),e.TgZ(50,"label",18),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"select",24),e.NdJ("change",function(){return i.FilterVisit("pspecialityid","pspecialityid")}),e.TgZ(54,"option",21),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.YNc(57,M,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",16),e.TgZ(59,"div",17),e.TgZ(60,"label",18),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"select",25),e.NdJ("change",function(){return i.FilterVisit("pmemberflag","pmemberflag")}),e.TgZ(64,"option",21),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.YNc(67,S,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",26),e.TgZ(69,"div",27),e.TgZ(70,"div",28),e.TgZ(71,"button",29),e.NdJ("click",function(){return i.FilterVisitbyMe()}),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(74,"div",26),e.TgZ(75,"div",27),e.TgZ(76,"div",28),e.TgZ(77,"button",29),e.NdJ("click",function(){return i.ResetFilters()}),e._uU(78),e.ALo(79,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(80,D,5,3,"section",30),e.YNc(81,k,28,19,"section",30),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(12),e.AsE("",e.lcZ(13,22,"Medical Records")," / ",e.lcZ(14,24,"Medical Services"),""),e.xp6(4),e.Q6J("checked","APPOINTMENT"==i.viewMode),e.xp6(2),e.Oqu(e.lcZ(19,26,"Group by Appointment")),e.xp6(2),e.Q6J("formGroup",i.SearchForm),e.xp6(5),e.Oqu(e.lcZ(26,28,"Date ")),e.xp6(6),e.Oqu(e.lcZ(32,30,"Doctor ")),e.xp6(4),e.Oqu(e.lcZ(36,32,"Select Doctor")),e.xp6(2),e.Q6J("ngForOf",i.allDoctors),e.xp6(4),e.Oqu(e.lcZ(42,34,"Branch ")),e.xp6(4),e.Oqu(e.lcZ(46,36,"Select Branch")),e.xp6(2),e.Q6J("ngForOf",i.allBranches),e.xp6(4),e.Oqu(e.lcZ(52,38,"Specialties ")),e.xp6(4),e.Oqu(e.lcZ(56,40,"Select Specialtie")),e.xp6(2),e.Q6J("ngForOf",i.allSpeciality),e.xp6(4),e.Oqu(e.lcZ(62,42,"Family Member")),e.xp6(4),e.Oqu(e.lcZ(66,44,"Select Family Member")),e.xp6(2),e.Q6J("ngForOf",i.allFamilymember),e.xp6(5),e.Oqu(e.lcZ(73,46,"My Appointment")),e.xp6(6),e.Oqu(e.lcZ(79,48,"Reset")),e.xp6(2),e.Q6J("ngIf","APPOINTMENT"==i.viewMode),e.xp6(1),e.Q6J("ngIf","ALL"==i.viewMode))},directives:[r._Y,r.JL,r.F,r.sg,r.Fj,r.JJ,r.u,r.EJ,r.YN,r.Kr,c.sg,c.O5],pipes:[p.X$,c.Nd,c.uU],styles:[".border-bottom[_ngcontent-%COMP%]{justify-content:space-between;background-color:#129f4b;color:#fff}.downloadRecord[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.form-check[_ngcontent-%COMP%]{cursor:pointer}"]}),o})();function Y(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit,i=e.oxw();e.Q6J("value",t.doctorid),e.xp6(1),e.Oqu("ar"==i.GetLanguage()?null==t?null:t.arabicname:null==t?null:t.englishname)}}function Q(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit,i=e.oxw();e.Q6J("value",t.branchid),e.xp6(1),e.Oqu("ar"==i.GetLanguage()?null==t?null:t.arabicname:null==t?null:t.englishname)}}function B(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit,i=e.oxw();e.Q6J("value",t.specialityid),e.xp6(1),e.Oqu("ar"==i.GetLanguage()?null==t?null:t.arabicname:null==t?null:t.englishname)}}function I(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.patientid),e.xp6(1),e.Oqu(null==t?null:t.patientname)}}function V(o,a){1&o&&e._UZ(0,"hr")}function E(o,a){if(1&o&&(e.TgZ(0,"div",47),e.TgZ(1,"h6",40),e._uU(2),e.qZA(),e.TgZ(3,"small"),e._uU(4),e.qZA(),e.qZA()),2&o){const t=a.$implicit,i=e.oxw(4);e.xp6(2),e.Oqu(t.medicine),e.xp6(2),e.Oqu("ar"==i.GetLanguage()?t.instructionsarabic:t.instructionsenglish)}}function $(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",44),e.YNc(1,V,1,0,"hr",30),e.TgZ(2,"div",9),e.TgZ(3,"div"),e.YNc(4,E,5,2,"div",45),e.qZA(),e.TgZ(5,"small",46),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(3).DownloadRecord(l)}),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=a.$implicit,i=a.index;e.xp6(1),e.Q6J("ngIf",0!=i),e.xp6(3),e.Q6J("ngForOf",t.medicines),e.xp6(2),e.Oqu(e.lcZ(7,3,"Download"))}}function H(o,a){if(1&o&&(e.TgZ(0,"div",35),e.TgZ(1,"div",36),e.TgZ(2,"div",37),e.TgZ(3,"div",38),e.TgZ(4,"div",39),e.TgZ(5,"h5",40),e._uU(6),e.qZA(),e.TgZ(7,"small",41),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"small"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"small"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.qZA(),e.TgZ(16,"div"),e._uU(17),e.ALo(18,"date"),e.qZA(),e.qZA(),e.TgZ(19,"div",42),e.YNc(20,$,8,5,"div",43),e.qZA(),e.qZA(),e.qZA()),2&o){const t=a.$implicit,i=e.oxw(2);e.xp6(6),e.Oqu("ar"==i.GetLanguage()?t.value[0].doctorarabicname:t.value[0].doctorenglishname),e.xp6(2),e.Oqu("ar"==i.GetLanguage()?t.value[0].specialityarabicname:t.value[0].specialityenglishname),e.xp6(2),e.AsE("",e.lcZ(11,8,"Appointment Number: "),"",t.key,""),e.xp6(4),e.AsE("",e.lcZ(15,10,"Patient Name: "),"",t.value[0].patientname,""),e.xp6(3),e.hij(" ",e.xi3(18,12,i.HandleDate(t.value[0].appointmentdate),"d/M/yy, h:mm a")," "),e.xp6(3),e.Q6J("ngForOf",t.value)}}function j(o,a){if(1&o&&(e.TgZ(0,"section"),e.TgZ(1,"div",32),e.TgZ(2,"div",33),e.YNc(3,H,21,15,"div",34),e.ALo(4,"keyvalue"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,t.medicationsRecordAppointmentGroped))}}function z(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",55),e._uU(2),e.qZA(),e.TgZ(3,"td",55),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td",55),e._uU(7),e.qZA(),e.TgZ(8,"td",55),e._uU(9),e.qZA(),e.TgZ(10,"td",55),e._uU(11),e.qZA(),e.TgZ(12,"td",55),e._uU(13),e.qZA(),e.TgZ(14,"td"),e.TgZ(15,"small",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw(2).DownloadRecord(n)}),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=a.$implicit,i=e.oxw().$implicit,n=e.oxw(2);e.xp6(2),e.Oqu("ar"==n.GetLanguage()?t.instructionsarabic:t.instructionsenglish),e.xp6(2),e.Oqu(e.xi3(5,7,n.HandleDate(i.appointmentdate),"d/M/yy, h:mm a")),e.xp6(3),e.Oqu("ar"==n.GetLanguage()?i.doctorarabicname:i.doctorenglishname),e.xp6(2),e.Oqu("ar"==n.GetLanguage()?i.specialityarabicname:i.specialityenglishname),e.xp6(2),e.Oqu(i.patientname),e.xp6(2),e.Oqu(t.medicine),e.xp6(3),e.Oqu(e.lcZ(17,10,"Download"))}}function K(o,a){if(1&o&&(e.ynx(0),e.YNc(1,z,18,12,"tr",54),e.BQk()),2&o){const t=a.$implicit;e.xp6(1),e.Q6J("ngForOf",t.medicines)}}function X(o,a){if(1&o&&(e.TgZ(0,"section"),e.TgZ(1,"div",32),e.TgZ(2,"div",33),e.TgZ(3,"div",48),e.TgZ(4,"div",49),e.TgZ(5,"table",50),e.TgZ(6,"thead"),e.TgZ(7,"tr"),e.TgZ(8,"th",51),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"th",52),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th",51),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th",51),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th",51),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"th",51),e._uU(24),e.ALo(25,"translate"),e.qZA(),e._UZ(26,"th",53),e.qZA(),e.qZA(),e.TgZ(27,"tbody"),e.YNc(28,K,2,1,"ng-container",54),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,7,"Services")),e.xp6(3),e.Oqu(e.lcZ(13,9,"Date / Time")),e.xp6(3),e.Oqu(e.lcZ(16,11,"Doctor")),e.xp6(3),e.Oqu(e.lcZ(19,13,"Speciality")),e.xp6(3),e.Oqu(e.lcZ(22,15,"Patient")),e.xp6(3),e.Oqu(e.lcZ(25,17,"Medicine")),e.xp6(4),e.Q6J("ngForOf",t.medicationsRecordFilterd)}}let W=(()=>{class o{constructor(t,i,n,l,s){this.translate=t,this._fb=i,this._apiService=n,this._auth=l,this._UserDataService=s,this.medicationsRecord=[],this.medicationsRecordFilterd=[],this.medicationsRecordAppointmentGroped=[],this.viewMode="ALL",this.allBranches=[],this.allDoctors=[],this.allSpeciality=[],this.allFamilymember=[],this.filterBody={},this._UserDataService.userData$.subscribe(m=>{this.userData=m})}ngOnInit(){this.SearchForm=this.BuildForm(this.SearchForm),this.GetMedicationsRecord(),this.GetDoctors(),this.GetBranches(),this.GetSpecialties(),this.GetFamilyMember()}BuildForm(t){return this._fb.group({appointmentDate:new r.NI("",[]),pmemberflag:new r.NI("",[]),pbranch:new r.NI("",[]),pspecialityid:new r.NI("",[]),pdoctor:new r.NI("",[])})}GetMedicationsRecord(){this._apiService.Post("medicalrecords/medications",this.filterBody).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.medicationsRecord=t.medicationsdata,this.medicationsRecordFilterd=t.medicationsdata,this.GroupRecord()})}GroupRecord(){this.medicationsRecordAppointmentGroped=this.medicationsRecordFilterd.reduce(function(t,i){return(t[i.appointmentno]=t[i.appointmentno]||[]).push(i),t},{})}GetBranches(){this._apiService.Post("branches",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allBranches=t.branchesdata})}GetSpecialties(){this._apiService.Post("specialties",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allSpeciality=t.specialitiesdata})}GetDoctors(){this._apiService.Post("doctors",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allDoctors=t.doctorsdata})}GetFamilyMember(){this._apiService.Post("familymembers",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allFamilymember=t.familymembersdata})}GetFamilyMemberNameById(t){let i="",n=i=this.allFamilymember.find(l=>l.patientid==t);return this.userData.patientid==t?i=this.userData.patientname:n&&(i=n.patientname),i}FilterVisit(t,i){this.filterBody[t]=this.GetControlValue(i),this.GetMedicationsRecord()}FilterVisitbyMe(){this.filterBody.pmemberflag=this.userData.patientid,this.GetMedicationsRecord()}FilterDoctors(t){let i=t.target.value;this.medicationsRecordFilterd=this.medicationsRecord.filter(n=>-1!=n.doctorarabicname.indexOf(i)||-1!=n.doctorenglishname.indexOf(i)),this.GroupRecord()}GetControlValue(t){return"appointmentDate"==t?new Date(this.SearchForm.get(t).value):this.SearchForm.get(t).value}ResetFilters(){this.SearchForm.get("appointmentDate").setValue(""),this.SearchForm.get("pmemberflag").setValue(""),this.SearchForm.get("pbranch").setValue(""),this.SearchForm.get("pspecialityid").setValue(""),this.SearchForm.get("pdoctor").setValue(""),this.filterBody={},this.GetMedicationsRecord()}DownloadRecord(t){this._apiService.Post("medicalrecords/printmedicalprescriptions",{pappointmentid:""+t.visitid,pserviceid:""+t.serviceid}).subscribe(i=>{"no"==i.Header[0].Authorization&&this._auth.reloagin();let n=this.EncodeFile(i.medicalprescriptionsreport[0].pdfmedicalprescriptionsreport);this.DownoladFile(n)})}EncodeFile(t){return"data:application/pdf;base64,"+t}DownoladFile(t){const i=document.createElement("a");i.href=t,i.download="Medications-Report.pdf",i.setAttribute("target","_blank"),i.click()}ChangeView(){this.viewMode="ALL"==this.viewMode?"APPOINTMENT":"ALL"}HandleDate(t){return t?t.split("T")[0]:""}GetLanguage(){return"ar"==this.translate.currentLang?"ar":"en"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.sK),e.Y36(r.qu),e.Y36(u.s),e.Y36(Z.u),e.Y36(g.Mn))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-medications"]],decls:82,vars:50,consts:[[1,"section"],[1,"container"],[1,"container-fluid"],[1,"layout-specing"],[1,"d-md-flex","justify-content-between","align-items-center"],["id","bookroom",1,"mb-2"],[1,"row","justify-content-center"],[1,"col-lg-12","p-0"],[1,"p-4","shadow","bg-white","rounded"],[1,"d-flex","justify-content-between"],[1,"mb-3"],[1,"form-check","form-switch"],["type","checkbox","id","viewType",1,"form-check-input",3,"checked","change"],["for","viewType",1,"form-check-label"],[3,"formGroup"],[1,"row","text-start"],[1,"col-lg-3","col-md-6","mt-3"],[1,"mb-3","mb-lg-0"],[1,"form-label"],["placeholder","MM/DD/YYYY","onfocus","(this.type='date')","onblur","(this.type='text')","formControlName","appointmentDate",1,"form-control",3,"change"],["id","Sortbylist-Shop","formControlName","pdoctor",1,"form-control","form-select",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","Sortbylist-Shop","formControlName","pbranch",1,"form-control","form-select",3,"change"],["id","Sortbylist-Shop","formControlName","pspecialityid",1,"form-control","form-select",3,"change"],["id","Sortbylist-Shop","formControlName","pmemberflag",1,"form-control","form-select",3,"change"],[1,"col-lg-3","col-md-6","d-flex"],[1,"mb-3","mb-lg-0","w-100","d-flex","align-items-end"],[1,"d-grid","w-100"],[1,"btn","btn-outline-primary",3,"click"],[4,"ngIf"],[3,"value"],[1,"container","mt-lg-3"],[1,"row"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"rounded","shadow","mt-4"],[1,"p-4","d-flex","border-bottom"],[1,"cardHeader"],[1,"d-flex"],[1,"mb-0"],[1,"pt-1","mx-3"],[1,"p-4"],["class","pb-4",4,"ngFor","ngForOf"],[1,"pb-4"],["class","mb-4",4,"ngFor","ngForOf"],[1,"downloadRecord",3,"click"],[1,"mb-4"],[1,"col-12","mt-4"],[1,"table-responsive","shadow","rounded"],[1,"table","table-center","bg-white","mb-0"],[1,"text-center","border-bottom","p-3"],[1,"text-center","border-bottom","p-3",2,"min-width","220px"],[1,"text-end","border-bottom","p-3"],[4,"ngFor","ngForOf"],[1,"text-center","p-3"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"div",4),e.TgZ(5,"section",5),e.TgZ(6,"div",1),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"form",8),e.TgZ(10,"div",9),e.TgZ(11,"h4",10),e._uU(12),e.ALo(13,"translate"),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",11),e.TgZ(16,"input",12),e.NdJ("change",function(){return i.viewMode="APPOINTMENT"==i.viewMode?"ALL":"APPOINTMENT"}),e.qZA(),e.TgZ(17,"label",13),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"form",14),e.TgZ(21,"div",15),e.TgZ(22,"div",16),e.TgZ(23,"div",17),e.TgZ(24,"label",18),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"input",19),e.NdJ("change",function(){return i.FilterVisit("pappointmentdate","appointmentDate")}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",16),e.TgZ(29,"div",17),e.TgZ(30,"label",18),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"select",20),e.NdJ("change",function(){return i.FilterVisit("pdoctor","pdoctor")}),e.TgZ(34,"option",21),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.YNc(37,Y,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",16),e.TgZ(39,"div",17),e.TgZ(40,"label",18),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"select",23),e.NdJ("change",function(){return i.FilterVisit("pbranch","pbranch")}),e.TgZ(44,"option",21),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.YNc(47,Q,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",16),e.TgZ(49,"div",17),e.TgZ(50,"label",18),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"select",24),e.NdJ("change",function(){return i.FilterVisit("pspecialityid","pspecialityid")}),e.TgZ(54,"option",21),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.YNc(57,B,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",16),e.TgZ(59,"div",17),e.TgZ(60,"label",18),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"select",25),e.NdJ("change",function(){return i.FilterVisit("pmemberflag","pmemberflag")}),e.TgZ(64,"option",21),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.YNc(67,I,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",26),e.TgZ(69,"div",27),e.TgZ(70,"div",28),e.TgZ(71,"button",29),e.NdJ("click",function(){return i.FilterVisitbyMe()}),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(74,"div",26),e.TgZ(75,"div",27),e.TgZ(76,"div",28),e.TgZ(77,"button",29),e.NdJ("click",function(){return i.ResetFilters()}),e._uU(78),e.ALo(79,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(80,j,5,3,"section",30),e.YNc(81,X,29,19,"section",30),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(12),e.AsE("",e.lcZ(13,22,"Medical Records")," / ",e.lcZ(14,24,"Medications & Prescriptions"),""),e.xp6(4),e.Q6J("checked","APPOINTMENT"==i.viewMode),e.xp6(2),e.Oqu(e.lcZ(19,26,"Group by Appointment")),e.xp6(2),e.Q6J("formGroup",i.SearchForm),e.xp6(5),e.Oqu(e.lcZ(26,28,"Date ")),e.xp6(6),e.Oqu(e.lcZ(32,30,"Doctor ")),e.xp6(4),e.Oqu(e.lcZ(36,32,"Select Doctor")),e.xp6(2),e.Q6J("ngForOf",i.allDoctors),e.xp6(4),e.Oqu(e.lcZ(42,34,"Branch ")),e.xp6(4),e.Oqu(e.lcZ(46,36,"Select Branch")),e.xp6(2),e.Q6J("ngForOf",i.allBranches),e.xp6(4),e.Oqu(e.lcZ(52,38,"Specialties ")),e.xp6(4),e.Oqu(e.lcZ(56,40,"Select Specialtie")),e.xp6(2),e.Q6J("ngForOf",i.allSpeciality),e.xp6(4),e.Oqu(e.lcZ(62,42,"Family Member")),e.xp6(4),e.Oqu(e.lcZ(66,44,"Select Family Member")),e.xp6(2),e.Q6J("ngForOf",i.allFamilymember),e.xp6(5),e.Oqu(e.lcZ(73,46,"My Appointment")),e.xp6(6),e.Oqu(e.lcZ(79,48,"Reset")),e.xp6(2),e.Q6J("ngIf","APPOINTMENT"==i.viewMode),e.xp6(1),e.Q6J("ngIf","ALL"==i.viewMode))},directives:[r._Y,r.JL,r.F,r.sg,r.Fj,r.JJ,r.u,r.EJ,r.YN,r.Kr,c.sg,c.O5],pipes:[p.X$,c.Nd,c.uU],styles:[".border-bottom[_ngcontent-%COMP%]{justify-content:space-between;background-color:#129f4b;color:#fff}.downloadRecord[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.form-check[_ngcontent-%COMP%]{cursor:pointer}"]}),o})();function ee(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit,i=e.oxw();e.Q6J("value",t.doctorid),e.xp6(1),e.Oqu("ar"==i.GetLanguage()?null==t?null:t.arabicname:null==t?null:t.englishname)}}function te(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit,i=e.oxw();e.Q6J("value",t.branchid),e.xp6(1),e.Oqu("ar"==i.GetLanguage()?null==t?null:t.arabicname:null==t?null:t.englishname)}}function ie(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit,i=e.oxw();e.Q6J("value",t.specialityid),e.xp6(1),e.Oqu("ar"==i.GetLanguage()?null==t?null:t.arabicname:null==t?null:t.englishname)}}function oe(o,a){if(1&o&&(e.TgZ(0,"option",31),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.patientid),e.xp6(1),e.Oqu(null==t?null:t.patientname)}}function ne(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",46),e.TgZ(1,"h6",40),e._uU(2),e.qZA(),e.TgZ(3,"small",43),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(3).DownloadRecord(l)}),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA()}if(2&o){const t=a.$implicit;e.xp6(2),e.Oqu(t.servicename),e.xp6(2),e.Oqu(e.lcZ(5,2,"Download"))}}function ae(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",35),e.TgZ(1,"div",36),e.TgZ(2,"div",37),e.TgZ(3,"div",38),e.TgZ(4,"div",39),e.TgZ(5,"h5",40),e._uU(6),e.qZA(),e.TgZ(7,"small",41),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"small"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"small"),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.qZA(),e.TgZ(16,"div"),e.TgZ(17,"h6",42),e._uU(18),e.ALo(19,"date"),e.qZA(),e.TgZ(20,"small",43),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).DownloadAppointment(l.value[0])}),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"div",44),e.YNc(24,ne,6,4,"div",45),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=a.$implicit,i=e.oxw(2);e.xp6(6),e.Oqu("ar"==i.GetLanguage()?t.value[0].doctorarabicname:t.value[0].doctorenglishname),e.xp6(2),e.Oqu("ar"==i.GetLanguage()?t.value[0].specialityarabicname:t.value[0].specialityenglishname),e.xp6(2),e.AsE("",e.lcZ(11,9,"Appointment Number: "),"",t.key,""),e.xp6(4),e.AsE("",e.lcZ(15,11,"Patient Name: "),"",t.value[0].patientname,""),e.xp6(4),e.hij(" ",e.xi3(19,13,i.HandleDate(t.value[0].servicedate),"d/M/yy, h:mm a")," "),e.xp6(3),e.Oqu(e.lcZ(22,16,"Download All")),e.xp6(3),e.Q6J("ngForOf",t.value)}}function re(o,a){if(1&o&&(e.TgZ(0,"section"),e.TgZ(1,"div",32),e.TgZ(2,"div",33),e.YNc(3,ae,25,18,"div",34),e.ALo(4,"keyvalue"),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",e.lcZ(4,1,t.radioRecordAppointmentGroped))}}function le(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",54),e._uU(2),e.qZA(),e.TgZ(3,"td",54),e._uU(4),e.ALo(5,"date"),e.qZA(),e.TgZ(6,"td",54),e._uU(7),e.qZA(),e.TgZ(8,"td",54),e._uU(9),e.qZA(),e.TgZ(10,"td",54),e._uU(11),e.qZA(),e.TgZ(12,"td"),e.TgZ(13,"small",43),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).DownloadRecord(l)}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&o){const t=a.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(t.servicename),e.xp6(2),e.Oqu(e.xi3(5,6,i.HandleDate(t.servicedate),"d/M/yy, h:mm a")),e.xp6(3),e.Oqu("ar"==i.GetLanguage()?t.doctorarabicname:t.doctorenglishname),e.xp6(2),e.Oqu("ar"==i.GetLanguage()?t.specialityarabicname:t.specialityenglishname),e.xp6(2),e.Oqu(i.GetFamilyMemberNameById(t.patientid)),e.xp6(3),e.Oqu(e.lcZ(15,9,"Download"))}}function ce(o,a){if(1&o&&(e.TgZ(0,"section"),e.TgZ(1,"div",32),e.TgZ(2,"div",33),e.TgZ(3,"div",47),e.TgZ(4,"div",48),e.TgZ(5,"table",49),e.TgZ(6,"thead"),e.TgZ(7,"tr"),e.TgZ(8,"th",50),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"th",51),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th",50),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th",50),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th",50),e._uU(21),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"th",52),e.qZA(),e.qZA(),e.TgZ(24,"tbody"),e.YNc(25,le,16,11,"tr",53),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const t=e.oxw();e.xp6(9),e.Oqu(e.lcZ(10,6,"Services")),e.xp6(3),e.Oqu(e.lcZ(13,8,"Date / Time")),e.xp6(3),e.Oqu(e.lcZ(16,10,"Doctor")),e.xp6(3),e.Oqu(e.lcZ(19,12,"Speciality")),e.xp6(3),e.Oqu(e.lcZ(22,14,"Patient")),e.xp6(4),e.Q6J("ngForOf",t.radioRecordFilterd)}}const se=[{path:"",redirectTo:"laboratory"},{path:"laboratory",component:O},{path:"radiology",component:(()=>{class o{constructor(t,i,n,l,s){this.translate=t,this._fb=i,this._apiService=n,this._auth=l,this._UserDataService=s,this.radioRecord=[],this.radioRecordFilterd=[],this.radioRecordAppointmentGroped=[],this.viewMode="ALL",this.allBranches=[],this.allDoctors=[],this.allSpeciality=[],this.allFamilymember=[],this.filterBody={},this._UserDataService.userData$.subscribe(m=>{this.userData=m})}ngOnInit(){this.SearchForm=this.BuildForm(this.SearchForm),this.GetRadioRecord(),this.GetDoctors(),this.GetBranches(),this.GetSpecialties(),this.GetFamilyMember()}BuildForm(t){return this._fb.group({appointmentDate:new r.NI("",[]),pmemberflag:new r.NI("",[]),pbranch:new r.NI("",[]),pspecialityid:new r.NI("",[]),pdoctor:new r.NI("",[])})}GetRadioRecord(){this._apiService.Post("medicalrecords/radiology",this.filterBody).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.radioRecord=t.radiologyresultsdata,this.radioRecordFilterd=t.radiologyresultsdata,this.GroupRecord()})}GroupRecord(){this.radioRecordAppointmentGroped=this.radioRecordFilterd.reduce(function(t,i){return(t[i.appointmentno]=t[i.appointmentno]||[]).push(i),t},{})}GetBranches(){this._apiService.Post("branches",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allBranches=t.branchesdata})}GetSpecialties(){this._apiService.Post("specialties",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allSpeciality=t.specialitiesdata})}GetDoctors(){this._apiService.Post("doctors",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allDoctors=t.doctorsdata})}GetFamilyMember(){this._apiService.Post("familymembers",{}).subscribe(t=>{"no"==t.Header[0].Authorization&&this._auth.reloagin(),this.allFamilymember=t.familymembersdata})}GetFamilyMemberNameById(t){let i="",n=i=this.allFamilymember.find(l=>l.patientid==t);return this.userData.patientid==t?i=this.userData.patientname:n&&(i=n.patientname),i}FilterVisit(t,i){this.filterBody[t]=this.GetControlValue(i),this.GetRadioRecord()}FilterVisitbyMe(){this.filterBody.pmemberflag=this.userData.patientid,this.GetRadioRecord()}FilterDoctors(t){let i=t.target.value;this.radioRecordFilterd=this.radioRecord.filter(n=>-1!=n.doctorarabicname.indexOf(i)||-1!=n.doctorenglishname.indexOf(i)),this.GroupRecord()}GetControlValue(t){return"appointmentDate"==t?new Date(this.SearchForm.get(t).value):this.SearchForm.get(t).value}ResetFilters(){this.SearchForm.get("appointmentDate").setValue(""),this.SearchForm.get("pmemberflag").setValue(""),this.SearchForm.get("pbranch").setValue(""),this.SearchForm.get("pspecialityid").setValue(""),this.SearchForm.get("pdoctor").setValue(""),this.filterBody={},this.GetRadioRecord()}DownloadAppointment(t){this._apiService.Post_Appointment("medicalrecords/printradiologyresultsall",{},t.visitid).subscribe(i=>{"no"==i.Header[0].Authorization&&this._auth.reloagin();let n=this.EncodeFile(i.radiologypdfresults[0].pdfradiologyreport);this.DownoladFile(n)})}DownloadRecord(t){this._apiService.Post("medicalrecords/printradiologyresults",{pappointmentid:""+t.visitid,precordid:""+t.recordid}).subscribe(i=>{"no"==i.Header[0].Authorization&&this._auth.reloagin();let n=this.EncodeFile(i.radiologypdfresults[0].pdfradiologyreport);this.DownoladFile(n)})}EncodeFile(t){return"data:application/pdf;base64,"+t}DownoladFile(t){const i=document.createElement("a");i.href=t,i.download="Radio-Report.pdf",i.setAttribute("target","_blank"),i.click()}ChangeView(){this.viewMode="ALL"==this.viewMode?"APPOINTMENT":"ALL"}HandleDate(t){return t?t.split("T")[0]:""}GetLanguage(){return"ar"==this.translate.currentLang?"ar":"en"}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.sK),e.Y36(r.qu),e.Y36(u.s),e.Y36(Z.u),e.Y36(g.Mn))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-radiology"]],decls:82,vars:50,consts:[[1,"section"],[1,"container"],[1,"container-fluid"],[1,"layout-specing"],[1,"d-md-flex","justify-content-between","align-items-center"],["id","bookroom",1,"mb-2"],[1,"row","justify-content-center"],[1,"col-lg-12","p-0"],[1,"p-4","shadow","bg-white","rounded"],[1,"d-flex","justify-content-between"],[1,"mb-3"],[1,"form-check","form-switch"],["type","checkbox","id","viewType",1,"form-check-input",3,"checked","change"],["for","viewType",1,"form-check-label"],[3,"formGroup"],[1,"row","text-start"],[1,"col-lg-3","col-md-6","mt-3"],[1,"mb-3","mb-lg-0"],[1,"form-label"],["placeholder","MM/DD/YYYY","onfocus","(this.type='date')","onblur","(this.type='text')","formControlName","appointmentDate",1,"form-control",3,"change"],["id","Sortbylist-Shop","formControlName","pdoctor",1,"form-control","form-select",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","Sortbylist-Shop","formControlName","pbranch",1,"form-control","form-select",3,"change"],["id","Sortbylist-Shop","formControlName","pspecialityid",1,"form-control","form-select",3,"change"],["id","Sortbylist-Shop","formControlName","pmemberflag",1,"form-control","form-select",3,"change"],[1,"col-lg-3","col-md-6","d-flex"],[1,"mb-3","mb-lg-0","w-100","d-flex","align-items-end"],[1,"d-grid","w-100"],[1,"btn","btn-outline-primary",3,"click"],[4,"ngIf"],[3,"value"],[1,"container","mt-lg-3"],[1,"row"],["class","col-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"rounded","shadow","mt-4"],[1,"p-4","d-flex","border-bottom"],[1,"cardHeader"],[1,"d-flex"],[1,"mb-0"],[1,"pt-1","mx-3"],[1,"m-0"],[1,"downloadRecord",3,"click"],[1,"p-4"],["class","d-flex justify-content-between pb-4",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","pb-4"],[1,"col-12","mt-4"],[1,"table-responsive","shadow","rounded"],[1,"table","table-center","bg-white","mb-0"],[1,"text-center","border-bottom","p-3"],[1,"text-center","border-bottom","p-3",2,"min-width","220px"],[1,"text-end","border-bottom","p-3"],[4,"ngFor","ngForOf"],[1,"text-center","p-3"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e._UZ(4,"div",4),e.TgZ(5,"section",5),e.TgZ(6,"div",1),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"form",8),e.TgZ(10,"div",9),e.TgZ(11,"h4",10),e._uU(12),e.ALo(13,"translate"),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",11),e.TgZ(16,"input",12),e.NdJ("change",function(){return i.viewMode="APPOINTMENT"==i.viewMode?"ALL":"APPOINTMENT"}),e.qZA(),e.TgZ(17,"label",13),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"form",14),e.TgZ(21,"div",15),e.TgZ(22,"div",16),e.TgZ(23,"div",17),e.TgZ(24,"label",18),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"input",19),e.NdJ("change",function(){return i.FilterVisit("pappointmentdate","appointmentDate")}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",16),e.TgZ(29,"div",17),e.TgZ(30,"label",18),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"select",20),e.NdJ("change",function(){return i.FilterVisit("pdoctor","pdoctor")}),e.TgZ(34,"option",21),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.YNc(37,ee,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(38,"div",16),e.TgZ(39,"div",17),e.TgZ(40,"label",18),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"select",23),e.NdJ("change",function(){return i.FilterVisit("pbranch","pbranch")}),e.TgZ(44,"option",21),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.YNc(47,te,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(48,"div",16),e.TgZ(49,"div",17),e.TgZ(50,"label",18),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"select",24),e.NdJ("change",function(){return i.FilterVisit("pspecialityid","pspecialityid")}),e.TgZ(54,"option",21),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.YNc(57,ie,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",16),e.TgZ(59,"div",17),e.TgZ(60,"label",18),e._uU(61),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"select",25),e.NdJ("change",function(){return i.FilterVisit("pmemberflag","pmemberflag")}),e.TgZ(64,"option",21),e._uU(65),e.ALo(66,"translate"),e.qZA(),e.YNc(67,oe,2,2,"option",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",26),e.TgZ(69,"div",27),e.TgZ(70,"div",28),e.TgZ(71,"button",29),e.NdJ("click",function(){return i.FilterVisitbyMe()}),e._uU(72),e.ALo(73,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(74,"div",26),e.TgZ(75,"div",27),e.TgZ(76,"div",28),e.TgZ(77,"button",29),e.NdJ("click",function(){return i.ResetFilters()}),e._uU(78),e.ALo(79,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(80,re,5,3,"section",30),e.YNc(81,ce,26,16,"section",30),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(12),e.AsE("",e.lcZ(13,22,"Medical Records")," / ",e.lcZ(14,24,"Radiology Records"),""),e.xp6(4),e.Q6J("checked","APPOINTMENT"==i.viewMode),e.xp6(2),e.Oqu(e.lcZ(19,26,"Group by Appointment")),e.xp6(2),e.Q6J("formGroup",i.SearchForm),e.xp6(5),e.Oqu(e.lcZ(26,28,"Date ")),e.xp6(6),e.Oqu(e.lcZ(32,30,"Doctor ")),e.xp6(4),e.Oqu(e.lcZ(36,32,"Select Doctor")),e.xp6(2),e.Q6J("ngForOf",i.allDoctors),e.xp6(4),e.Oqu(e.lcZ(42,34,"Branch ")),e.xp6(4),e.Oqu(e.lcZ(46,36,"Select Branch")),e.xp6(2),e.Q6J("ngForOf",i.allBranches),e.xp6(4),e.Oqu(e.lcZ(52,38,"Specialties ")),e.xp6(4),e.Oqu(e.lcZ(56,40,"Select Specialtie")),e.xp6(2),e.Q6J("ngForOf",i.allSpeciality),e.xp6(4),e.Oqu(e.lcZ(62,42,"Family Member")),e.xp6(4),e.Oqu(e.lcZ(66,44,"Select Family Member")),e.xp6(2),e.Q6J("ngForOf",i.allFamilymember),e.xp6(5),e.Oqu(e.lcZ(73,46,"My Appointment")),e.xp6(6),e.Oqu(e.lcZ(79,48,"Reset")),e.xp6(2),e.Q6J("ngIf","APPOINTMENT"==i.viewMode),e.xp6(1),e.Q6J("ngIf","ALL"==i.viewMode))},directives:[r._Y,r.JL,r.F,r.sg,r.Fj,r.JJ,r.u,r.EJ,r.YN,r.Kr,c.sg,c.O5],pipes:[p.X$,c.Nd,c.uU],styles:[".border-bottom[_ngcontent-%COMP%]{justify-content:space-between;background-color:#129f4b;color:#fff}.downloadRecord[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.form-check[_ngcontent-%COMP%]{cursor:pointer}"]}),o})()},{path:"services",component:P},{path:"medications",component:W}];let de=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[h.Bz.forChild(se)],h.Bz]}),o})(),pe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,de,p.aw,r.u5,r.UX]]}),o})()}}]);